# üîç Scanner

**Scanner** ‚Äî —ç—Ç–æ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–π —Ñ–∞–π–ª–æ–≤—ã–π —Å–∫–∞–Ω–µ—Ä –Ω–∞ C++20, –∫–æ—Ç–æ—Ä—ã–π –∏—â–µ—Ç –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–µ —Ñ–∞–π–ª—ã –ø–æ –∏—Ö MD5-—Ö—ç—à—É.  
–•—ç—à–∏ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –±–µ—Ä—É—Ç—Å—è –∏–∑ CSV-–±–∞–∑—ã. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ª–æ–≥-—Ñ–∞–π–ª.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.
- –ü–æ–¥—Å—á–µ—Ç **MD5-—Ö—ç—à–µ–π** —Ñ–∞–π–ª–æ–≤ (—á–µ—Ä–µ–∑ OpenSSL).
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –±–∞–∑–æ–π –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã—Ö —Ö—ç—à–µ–π (CSV).
- –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤ (**ThreadPool**).
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏.
- –ù–∞–±–æ—Ä **—é–Ω–∏—Ç-—Ç–µ—Å—Ç–æ–≤** –Ω–∞ GoogleTest.

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- [CMake ‚â• 3.11](https://cmake.org/)
- [C++20](https://en.cppreference.com/w/cpp/20)
- [Boost.Program_options](https://www.boost.org/doc/libs/release/doc/html/program_options.html)
- [OpenSSL](https://www.openssl.org/)
- [GoogleTest](https://github.com/google/googletest) (–¥–ª—è —Ç–µ—Å—Ç–æ–≤)

## ‚öôÔ∏è –°–±–æ—Ä–∫–∞

```bash
git clone https://github.com/yourname/scanner.git
cd scanner
mkdir build && cd build
cmake ..
cmake --build .
````

–ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã:

* `main` ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞.
* `test_util` ‚Äî —Ç–µ—Å—Ç—ã.

## ‚ñ∂Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç—Ä–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞:

```bash
./scanner --base <csv> --log <logfile> --path <directory>
```

### –ü—Ä–∏–º–µ—Ä

```bash
./scanner --base base.csv --log report.log --path ./files
```

–ì–¥–µ:

* `base.csv` ‚Äî –±–∞–∑–∞ –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã—Ö —Ö—ç—à–µ–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ:

  ```
  <md5>;<verdict>
  098f6bcd4621d373cade4e832627b4f6;Virus
  d41d8cd98f00b204e9800998ecf8427e;EmptyFile
  ```

* `report.log` ‚Äî —Ñ–∞–π–ª, –≤ –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω –æ—Ç—á–µ—Ç:

  ```
  /path/to/file.txt;098f6bcd4621d373cade4e832627b4f6;Virus
  ```

* `./files` ‚Äî –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ –≤ –∫–æ–Ω—Å–æ–ª—å

```
===== Scan Report =====
Processed files: 100
Malicious files: 17
Errors: 0
Elapsed time: 0.53214
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤:

```bash
cd build
ctest --output-on-failure
```

–¢–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç:

* –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏—è MD5,
* –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞—Ä–∞–∂—ë–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤,
* –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ñ–∞–π–ª–æ–≤,
* e2e-–ø–æ–≤–µ–¥–µ–Ω–∏–µ –Ω–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ CMakeLists.txt        # –∫–æ—Ä–Ω–µ–≤–æ–π CMake
‚îú‚îÄ‚îÄ main.cpp              # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ inc/                  # –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ src/                  # –∏—Å—Ö–æ–¥–Ω–∏–∫–∏
‚îú‚îÄ‚îÄ tests/                # —Ç–µ—Å—Ç—ã (GoogleTest)
‚îî‚îÄ‚îÄ build/                # –∫–∞—Ç–∞–ª–æ–≥ –¥–ª—è —Å–±–æ—Ä–∫–∏
```
